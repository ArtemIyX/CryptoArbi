@page "/tokens"
@using System.Globalization
@using ArbiBlazor.Shared.Arbi
@inject ArbiBlazor.Services.IArbiService arbiService
@inject ArbiBlazor.Services.IArbiContainer arbiContainer
@inject ArbiBlazor.Services.IDisplaySerivce dS
<PageTitle>Tokens</PageTitle>

<div class="container-fluid arbi-container">
  <div class="row">
    <div class="col">
      <table class="table table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col" class="table-h">
                Profit
            </th>
            <th scope="col" class="table-h">Buy From</th>
            <th scope="col" class="table-h">Sell At</th>
          </tr>
        </thead>
        <tbody>
          @if (arbiContainer.Items is null)
          {
          <div>
            <h5>Loading...</h5>
          </div>
          }
          else if (arbiContainer.Items.Count == 0)
          {
          <div>
            <h5>No tokens :C</h5>
          </div>
          }
          else
          {

          @foreach (var arbi in arbiContainer.Items)
          {
          <tr>
            <td>
              <ArbiTitle 
                  Diff="@dS.Percent(arbi.PriceDifferencePercentage)"
                  Sym="@arbi.DisplayName"
                  />
            </td>
            <td>
              <div class="container">

                <div class="row">
                  <div class="col volume-col">
                    <strong>
                      <p class="table-p text-dark">
                        @dS.Price(arbi.Ask)
                      </p>
                    </strong>
                  </div>
                  <div class="col volume-img">
                    <img class="img-fluid" width="16" height="16"
                      src="svg/usdt.svg" />
                  </div>
                </div>
                <div class="row">
                  <div class="col volume-col">
                    <p class="table-p">
                      <small class="text-secondary">
                        @dS.Volume(arbi.AskVolumeUSDT)
                      </small>
                    </p>
                  </div>
                  <div class="col volume-img">
                    <img class="img-fluid" width="16" height="16"
                      src="svg/volume.svg" />
                  </div>
                </div>
                <div class="row">
                  <div class="col volume-col">
                    <p class="table-p">
                      <small class="text-secondary">
                        @dS.Volume(arbi.AskDayVolumeUSDT)
                      </small>
                    </p>
                  </div>
                  <div class="col volume-img">
                    <img class="img-fluid" width="16" height="16"
                      src="svg/day_volume.svg" />
                  </div>
                </div>
              </div>
              <div class="row table-header-row">
                <a href="@dS.Trade(arbi.BuyUrl, arbi.DisplayName)"
                  target="_blank" class="a-ex">
                  <button class="btn btn-outline-primary btn-ex">
                    <p class="table-p">
                      <strong>
                        @arbi.BuyName
                      </strong>
                    </p>
                  </button>
                </a>
              </div>
            </td>
            <td>
              <div class="container">

                <div class="row">
                  <div class="col volume-col">
                    <strong>
                      <p class="table-p text-dark">
                        @dS.Price(arbi.Bid)
                      </p>
                    </strong>
                  </div>
                  <div class="col volume-img">
                    <img class="img-fluid" width="16" height="16"
                      src="svg/usdt.svg" />
                  </div>
                </div>
                <div class="row">
                  <div class="col volume-col">
                    <p class="table-p">
                      <small class="text-secondary">
                        @dS.Volume(arbi.BidVolumeUSDT)
                      </small>
                    </p>
                  </div>
                  <div class="col volume-img">
                    <img class="img-fluid" width="16" height="16"
                      src="svg/volume.svg" />
                  </div>
                </div>
                <div class="row">
                  <div class="col volume-col">
                    <p class="table-p">
                      <small class="text-secondary">
                        @dS.Volume(arbi.BidDayVolumeUSDT)
                      </small>
                    </p>
                  </div>
                  <div class="col volume-img">
                    <img class="img-fluid" width="16" height="16"
                      src="svg/day_volume.svg" />
                  </div>
                </div>
                <div class="row table-header-row">
                  <a href="@dS.Trade(arbi.SellUrl, arbi.DisplayName)"
                    target="_blank" class="a-ex">
                    <button class="btn btn-outline-danger btn-ex">
                      <p class="table-p">
                        <strong>
                          @arbi.SellName
                        </strong>
                      </p>
                    </button>
                  </a>
                </div>
              </div>
            </td>
          </tr>
          }
          }
        </tbody>
      </table>
    </div>
    <div class="col-3">
      <div class="table-filters">
        <div class="input-group mb-3">
          <div class="input-group-text">
            <input class="form-check-input mt-0" type="checkbox" value="" aria-label="Checkbox for following text input">
            <span class="input-group-text" id="basic-addon1">gg</span>
          </div>
          <input type="text" class="form-control" aria-label="Text input with checkbox">
        </div>
      </div>
    </div>
  </div>
</div>
