@page "/tokens"
@using System.Globalization
@using ArbiBlazor.Shared.Arbi
@inject ArbiBlazor.Services.IArbiService arbiService
@inject ArbiBlazor.Services.IArbiContainer arbiContainer
@inject ArbiBlazor.Services.IDisplaySerivce dS
<PageTitle>Tokens</PageTitle>

<div class="container-fluid arbi-container">
  <div class="row">
    <div class="col">
      <table class="table table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col" class="table-h">
                Profit
            </th>
            <th scope="col" class="table-h">Buy From</th>
            <th scope="col" class="table-h">Sell At</th>
          </tr>
        </thead>
        <tbody>
          @if (arbiContainer.Items is null)
          {
          <div>
            <h5>Loading...</h5>
          </div>
          }
          else if (arbiContainer.Items.Count == 0)
          {
          <div>
            <h5>No tokens :C</h5>
          </div>
          }
          else
          {

          @foreach (var arbi in arbiContainer.Items)
          {
          <tr>
            <td>
              <ArbiTitle 
                  Diff="@dS.Percent(arbi.PriceDifferencePercentage)"
                  Sym="@arbi.DisplayName"
                  />
            </td>
            <td>
                <ArbiItem
                    BtnClass="btn-outline-primary"
                    Name="@arbi.BuyName"
                    Url="@dS.Trade(arbi.BuyUrl, arbi.DisplayName)"
                    Price="@dS.Price(arbi.Ask)"
                    Volume="@dS.Volume(arbi.AskVolumeUSDT)"
                    DayVolume="@dS.Volume(arbi.AskDayVolumeUSDT)"
                    />
            </td>
            <td>
                    <ArbiItem
                            BtnClass="btn-outline-danger"
                            Name="@arbi.SellName"
                            Url="@dS.Trade(arbi.SellUrl, arbi.DisplayName)"
                            Price="@dS.Price(arbi.Bid)"
                            Volume="@dS.Volume(arbi.BidVolumeUSDT)"
                            DayVolume="@dS.Volume(arbi.BidDayVolumeUSDT)"
                            />
            </td>
          </tr>
          }
          }
        </tbody>
      </table>
    </div>
    <div class="col-3">
      <div class="table-filters">
        <div class="input-group mb-3">
          <div class="input-group-text">
            <input class="form-check-input mt-0" type="checkbox" value="" aria-label="Checkbox for following text input">
            <span class="input-group-text" id="basic-addon1">gg</span>
          </div>
          <input type="text" class="form-control" aria-label="Text input with checkbox">
        </div>
      </div>
    </div>
  </div>
</div>
